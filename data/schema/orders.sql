CREATE TABLE `orders` (
  `id` int(8) unsigned zerofill NOT NULL AUTO_INCREMENT,
  `uuid` char(36) NOT NULL COMMENT 'unique identifier for non-guessable URI format',
  `customer_id` int(8) DEFAULT NULL COMMENT 'order created for which customer',
  `user_id` int(5) unsigned zerofill DEFAULT NULL COMMENT 'who created this order',
  `billing_user_id` int(5) unsigned zerofill DEFAULT NULL,
  `shipping_user_id` int(5) unsigned zerofill DEFAULT NULL,
  `company_id` int(3) DEFAULT NULL COMMENT 'order created for which company customers',
  `customer_name` varchar(40) DEFAULT '-' COMMENT 'customer name',
  `company_name` varchar(60) DEFAULT '-' COMMENT 'name of customer',
  `customer_crm_dealer_id` varchar(30) DEFAULT NULL COMMENT 'customer dealer id got from synced CRM',
  `customer_lead_id` varchar(30) DEFAULT NULL COMMENT 'if the customer is lead from a CRM then the CRM lead id',
  `primary_street` varchar(80) DEFAULT NULL COMMENT 'first line of street address',
  `secondary_street` varchar(80) NOT NULL DEFAULT '-' COMMENT 'secondary street of the customer',
  `city` varchar(30) DEFAULT '-' COMMENT 'customer''s default city',
  `state` varchar(30) DEFAULT '-' COMMENT 'default state of customer',
  `postal_code` int(5) unsigned zerofill DEFAULT '00000' COMMENT 'default postal code of customer',
  `country` varchar(40) DEFAULT 'USA' COMMENT 'default country of the customer',
  `billing_primary_street` varchar(80) DEFAULT '-' COMMENT 'billing address first street address',
  `billing_secondary_street` varchar(80) DEFAULT '-' COMMENT 'billing address second street address',
  `billing_city` varchar(30) DEFAULT '-' COMMENT 'billing address city',
  `billing_state` varchar(30) DEFAULT '-' COMMENT 'billing state',
  `billing_postal_code` int(5) unsigned zerofill DEFAULT '00000' COMMENT 'billing address postal code',
  `billing_country` varchar(40) DEFAULT 'USA' COMMENT 'billing country',
  `shipping_primary_street` varchar(80) DEFAULT '-' COMMENT 'shipping primary address first street address line',
  `shipping_secondary_street` varchar(80) DEFAULT '-' COMMENT 'shipping second street address line',
  `shipping_city` varchar(30) DEFAULT '-' COMMENT 'shipping city',
  `shipping_state` varchar(30) DEFAULT NULL,
  `shipping_postal_code` int(5) unsigned zerofill DEFAULT '00000' COMMENT 'shipping address postal code',
  `shipping_country` varchar(40) DEFAULT 'USA' COMMENT 'shipping country',
  `primary_email_address` varchar(80) DEFAULT NULL COMMENT 'primary email address',
  `secondary_email_address` varchar(80) DEFAULT NULL COMMENT 'secondary email address',
  `primary_phone` varchar(16) DEFAULT NULL COMMENT 'primary phone or mobile number',
  `secondary_phone` varchar(16) DEFAULT NULL COMMENT 'additional phone or mobile number',
  `note` text,
  `payment_response_code` int(1) DEFAULT NULL COMMENT 'payment response code from authorizenet',
  `payment_response_subcode` int(1) DEFAULT NULL COMMENT 'response from authorize net',
  `payment_response_reason_code` int(1) DEFAULT NULL COMMENT 'response from authorize net',
  `payment_response_reason_subcode` int(1) DEFAULT NULL COMMENT 'response from authorize net',
  `is_paid` int(1) DEFAULT '1' COMMENT 'true=paid, false=free',
  `payment_response_reason_text` varchar(255) DEFAULT NULL COMMENT 'response from authorize net',
  `payment_avs_response` varchar(10) DEFAULT NULL COMMENT 'response from authorize net',
  `payment_authorization_code` varchar(10) DEFAULT NULL COMMENT 'response from authorize net',
  `payment_invoice_no` varchar(255) DEFAULT NULL COMMENT 'response from authorize net',
  `payment_transaction_id` varchar(255) DEFAULT NULL COMMENT 'response from authorize net',
  `payment_transaction_type` varchar(255) DEFAULT NULL COMMENT 'response from authorize net',
  `payment_account_number` varchar(255) DEFAULT NULL COMMENT 'response from authorize net',
  `payment_card_type` varchar(255) DEFAULT NULL COMMENT 'response from authorize net',
  `payment_response_text_full` varchar(255) DEFAULT NULL COMMENT 'response from authorize net',
  `payment_final_status` int(1) DEFAULT NULL COMMENT 'response from authorize net',
  `payment_status` int(1) DEFAULT NULL,
  `payment_date` datetime DEFAULT NULL COMMENT 'get from authorize net after doing order',
  `card_id` int(6) DEFAULT NULL COMMENT 'which card used to make payment for this order',
  `fedex_tracking_no` varchar(255) DEFAULT NULL COMMENT 'fedex shipping tracking no',
  `shipping_status` int(1) DEFAULT '0' COMMENT '0=not, 1=shipped, 2=cancelled',
  `billing_status` int(1) DEFAULT '0' COMMENT '0=not paid, 1=paid, 2 = declined, 3 = error,  4=cancelled, 5 = free order',
  `payment_type` varchar(20) DEFAULT NULL,
  `shipping_type` varchar(20) DEFAULT NULL COMMENT 'ground or freight',
  `cost_total` decimal(8,2) DEFAULT NULL COMMENT 'Total product cost',
  `cost_tax` decimal(8,2) DEFAULT NULL COMMENT 'tax for this order',
  `cost_shipping` decimal(8,2) DEFAULT NULL COMMENT 'shipping cost',
  `cost_subtotal` decimal(8,2) DEFAULT NULL COMMENT 'shipping+tax+total',
  `is_visible` tinyint(1) DEFAULT '1' COMMENT 'true=yes, false=publicly not visible',
  `status` int(1) DEFAULT '1' COMMENT 'arbitrary purpose',
  `product_count` int(5) DEFAULT '0',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  PRIMARY KEY (`id`),
  KEY `user_id` (`user_id`),
  KEY `company_id` (`company_id`),
  KEY `customer_id` (`customer_id`),
  KEY `card_id` (`card_id`),
  KEY `payment_transaction_id` (`payment_transaction_id`),
  CONSTRAINT `orders_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL ON UPDATE NO ACTION,
  CONSTRAINT `orders_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customers` (`id`) ON DELETE SET NULL ON UPDATE NO ACTION,
  CONSTRAINT `orders_ibfk_3` FOREIGN KEY (`company_id`) REFERENCES `companies` (`id`) ON DELETE SET NULL ON UPDATE NO ACTION,
  CONSTRAINT `orders_ibfk_4` FOREIGN KEY (`customer_id`) REFERENCES `customers` (`id`) ON DELETE SET NULL ON UPDATE NO ACTION,
  CONSTRAINT `orders_ibfk_5` FOREIGN KEY (`company_id`) REFERENCES `companies` (`id`) ON DELETE SET NULL ON UPDATE NO ACTION,
  CONSTRAINT `orders_ibfk_6` FOREIGN KEY (`card_id`) REFERENCES `cards` (`id`) ON DELETE SET NULL ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8